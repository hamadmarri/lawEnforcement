<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<f:metadata>
		<f:viewParam name="id" value="#{controllerCrimeScene.id}" />
	</f:metadata>
</h:head>
<h:body>
	<ui:composition template="/WEB-INF/template.xhtml">
		<ui:define name="title">Adala - Crime Scene</ui:define>
		<ui:define name="content">

			<div class="container">


				<div class="page-header">
					<h4>Crime Scene
						#{controllerCrimeScene.crimeScene.crimeSceneId}</h4>
				</div>

				<div class="row">

					<ul class="breadcrumb no-bg-color">
						<li><h:link value="Home" outcome="/index.xhtml" /><span
							class="divider" /></li>
						<li><h:link value="Crime Scene List"
								outcome="/management/police/crimeScene/listCrimeScenes.xhtml" /></li>
						<li class="active">Crime Scene
							#{controllerCrimeScene.crimeScene.crimeSceneId}</li>
					</ul>
				</div>



				<div class="row">
					<div class="col-md-1 col-md-offset-10">
						<h:link styleClass="btn btn-primary" style="width: 100%;"
							value="edit" outcome="edit">
							<f:param name="id"
								value="#{controllerCrimeScene.crimeScene.crimeSceneId}" />
						</h:link>
					</div>
				</div>
				<br />

				<div class="row">
					<div class="col-md-5">
						<h:panelGrid columns="2" styleClass="table table-striped ">
							<h:outputLabel value="Foreign Object Penetration" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.foreignObjectPenetration}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.foreignObjectPenetration ne true}"
								value="No" styleClass="no" />



							<h:outputLabel value="Face Not Deliberately Hidden" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.faceNotDeliberatelyHidden}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.faceNotDeliberatelyHidden ne true}"
								value="No" styleClass="no" />



							<h:outputLabel value="Victim Was Blindfolded" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.victimWasBlindfolded}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.victimWasBlindfolded ne true}"
								value="No" styleClass="no" />



							<h:outputLabel value="Wounds Caused By Blunt Instrument" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.woundsCausedByBluntInstrument}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.woundsCausedByBluntInstrument ne true}"
								value="No" styleClass="no" />



							<h:outputLabel value="Suffocation" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.suffocation}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.suffocation ne true}"
								value="No" styleClass="no" />



							<h:outputLabel value="Vaginal Penetration" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.vaginalPenetration}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.vaginalPenetration ne true}"
								value="No" styleClass="no" />




							<h:outputLabel value="Anal Penetration" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.analPenetration}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.analPenetration ne true}"
								value="No" styleClass="no" />



							<h:outputLabel value="Face Up" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.faceUp}" value="Yes"
								styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.faceUp ne true}"
								value="No" styleClass="no" />



							<h:outputLabel value="Victim Partially Undressed" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.victimPartiallyUndressed}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.victimPartiallyUndressed ne true}"
								value="No" styleClass="no" />



							<h:outputLabel value="Victim Naked" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.victimNaked}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.victimNaked ne true}"
								value="No" styleClass="no" />



							<h:outputLabel value="Deliberate Clothing Damaged" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.deliberateClothingDamaged}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.deliberateClothingDamaged ne true}"
								value="No" styleClass="no" />



							<h:outputLabel value="Bound" />
							<h:outputText rendered="#{controllerCrimeScene.crimeScene.bound}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.bound ne true}"
								value="No" styleClass="no" />



							<h:outputLabel value="Stabbing Injuries" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.stabbingInjuries}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.stabbingInjuries ne true}"
								value="No" styleClass="no" />



							<h:outputLabel value="Manual Injuries" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.manualInjuries}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.manualInjuries ne true}"
								value="No" styleClass="no" />



							<h:outputLabel value="Gunshot Wounds" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.gunshotWounds}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.gunshotWounds ne true}"
								value="No" styleClass="no" />



							<h:outputLabel value="Wounds To The Head" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.woundsToTheHead}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.woundsToTheHead ne true}"
								value="No" styleClass="no" />



							<h:outputLabel value="Wounds To The Face" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.woundsToTheFace}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.woundsToTheFace ne true}"
								value="No" styleClass="no" />



							<h:outputLabel value="Wounds To The Neck" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.woundsToTheNeck}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.woundsToTheNeck ne true}"
								value="No" styleClass="no" />


						</h:panelGrid>
					</div>


					<div class="col-md-5 col-md-offset-1">

						<h:panelGrid columns="2" styleClass="table table-striped">
							<h:outputLabel value="Wounds To The Torso" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.woundsToTheTorso}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.woundsToTheTorso ne true}"
								value="No" styleClass="no" />



							<h:outputLabel value="Wounds To The Limbs" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.woundsToTheLimbs}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.woundsToTheLimbs ne true}"
								value="No" styleClass="no" />



							<h:outputLabel value="Multiple Wounds To One Body Area" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.multipleWoundsToOneBodyArea}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.multipleWoundsToOneBodyArea ne true}"
								value="No" styleClass="no" />



							<h:outputLabel
								value="Multiple Wounds Distributed Across Different Body Parts" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.multipleWoundsDistributedAcrossDifferentBodyParts}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.multipleWoundsDistributedAcrossDifferentBodyParts ne true}"
								value="No" styleClass="no" />

							<h:outputLabel value="Weapon Brought To Scene" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.weaponBroughtToScene}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.weaponBroughtToScene ne true}"
								value="No" styleClass="no" />



							<h:outputLabel value="Weapon From The Scene" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.weaponFromTheScene}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.weaponFromTheScene ne true}"
								value="No" styleClass="no" />


							<h:outputLabel value="Identifiable Property Stolen" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.identifiablePropertyStolen}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.identifiablePropertyStolen ne true}"
								value="No" styleClass="no" />


							<h:outputLabel value="Nonidentifiable Property Stolen" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.nonidentifiablePropertyStolen}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.nonidentifiablePropertyStolen ne true}"
								value="No" styleClass="no" />


							<h:outputLabel value="Valuable Property Stolen" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.valuablePropertyStolen}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.valuablePropertyStolen ne true}"
								value="No" styleClass="no" />


							<h:outputLabel value="Body Hidden" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.bodyHidden}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.bodyHidden ne true}"
								value="No" styleClass="no" />


							<h:outputLabel value="Body Transported" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.bodyTransported}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.bodyTransported ne true}"
								value="No" styleClass="no" />



							<h:outputLabel value="Offender Forensically Aware" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.offenderForensicallyAware}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.offenderForensicallyAware ne true}"
								value="No" styleClass="no" />


							<h:outputLabel
								value="Victim Found At The Same Scene Where They Were Killed" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.victimFoundAtTheSameSceneWhereTheyWereKilled}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.victimFoundAtTheSameSceneWhereTheyWereKilled ne true}"
								value="No" styleClass="no" />


							<h:outputLabel value="Sexual Crime" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.sexualCrime}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.sexualCrime ne true}"
								value="No" styleClass="no" />


							<h:outputLabel value="Srson To Crime Scene Or Body" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.arsonToCrimeSceneOrBody}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.arsonToCrimeSceneOrBody ne true}"
								value="No" styleClass="no" />


							<h:outputLabel value="Victim Found In Water" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.victimFoundInWater}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.victimFoundInWater ne true}"
								value="No" styleClass="no" />


							<h:outputLabel value="Victim Drugged And Or Poisoned" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.victimDruggedAndOrPoisoned}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.victimDruggedAndOrPoisoned ne true}"
								value="No" styleClass="no" />


							<h:outputLabel value="Victim Covered" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.victimCovered}"
								value="Yes" styleClass="yes" />
							<h:outputText
								rendered="#{controllerCrimeScene.crimeScene.victimCovered ne true}"
								value="No" styleClass="no" />

						</h:panelGrid>
					</div>

				</div>
				<!-- master row -->

				<hr />

				<div class="row">

					<h:panelGroup
						rendered="#{controllerCrimeScene.crimeScene.offenderProfile != null}">
						<div class="col-md-4">
							<h:link value="Offinder Profile"
								outcome="/management/police/offenderProfile/viewOffenderProfile.xhtml?id=#{controllerCrimeScene.crimeScene.offenderProfile.offenderProfileId}" />
						</div>
					</h:panelGroup>


					<div class="col-md-4">
						<h:panelGroup
							rendered="#{controllerCrimeScene.crimeScene.victim != null}">
							<h:outputLabel value="Victim" />

							<h:link style="margin-left: 5px;"
								value="#{controllerCrimeScene.crimeScene.victim.personName}"
								outcome="/management/entries/person/viewPerson.xhtml?id=#{controllerCrimeScene.crimeScene.victim.id}" />

							<h:form styleClass="inline-form">
								<p:commandLink style="margin-left: 5px;" styleClass="minor"
									value="remove"
									actionListener="#{controllerCrimeScene.removeVictim}"
									update="@all">

									<p:confirm header="Confirmation" message="Are you sure?"
										icon="ui-icon-alert" />
								</p:commandLink>

								<p:confirmDialog global="true" showEffect="fade"
									hideEffect="fade">
									<p:commandButton value="Yes" type="button"
										styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
									<p:commandButton value="No" type="button"
										styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
								</p:confirmDialog>
							</h:form>

						</h:panelGroup>

						<h:form
							rendered="#{controllerCrimeScene.crimeScene.victim == null}">
							<p:commandButton id="vicBtn" value="Choose victim" type="button" />
							<p:overlayPanel id="vicPanel" for="vicBtn" hideEffect="fade"
								dynamic="true" style="width:600px">

								<p:dataTable var="p" value="#{controllerPerson.personsList}"
									widgetVar="persons" rows="10" paginator="true"
									emptyMessage="No persons found with given criteria"
									filteredValue="#{controllerPerson.filteredPersons}">

									<f:facet name="header">
										<p:outputPanel style="text-align: left; width:150px">
											<div class="right-inner-addon">
												<i class="glyphicon glyphicon-search"></i>
												<p:inputText id="globalFilter"
													onkeyup="PF('persons').filter()" styleClass="form-control"
													placeholder="Search all fields" />
											</div>
										</p:outputPanel>
									</f:facet>

									<p:column filterBy="#{p.personName}"
										sortBy="#{p.personName.firstName}" headerText="Name"
										filterMatchMode="contains">
										<h:outputText value="#{p.personName}" />
									</p:column>
									<p:column>
										<h:commandButton styleClass="btn btn-link" value="Choose"
											action="#{controllerCrimeScene.setVictim(p)}" />
									</p:column>
								</p:dataTable>

							</p:overlayPanel>
						</h:form>

					</div>


					<div class="col-md-4">
						<h:link value="Investigative Case"
							outcome="/management/police/investigativeCase/viewInvestigativeCase.xhtml?id=#{controllerCrimeScene.crimeScene.investigativeCase.id}" />
					</div>



					<h:form
						rendered="#{controllerCrimeScene.crimeScene.offenderProfile == null}">
						<div class="col-md-4">
							<h:commandButton id="ofBtn" styleClass="btn btn-primary"
								type="button"
								rendered="#{!controllerCrimeScene.showSuggestedOP}"
								value="Generate Suggested Offender Profile"
								action="#{controllerCrimeScene.setShowSuggestedOP(true)}" />
						</div>

						<p:overlayPanel id="ofPanel" for="ofBtn" hideEffect="fade"
							dynamic="true" styleClass="col-md-7">

							<c:set var="offenderProfile"
								value="#{controllerNeuralNetworkEntity.getSuggestedOffenderProfile(controllerCrimeScene.crimeScene)}" />

							<div class="page-header">
								<h4>Generated Offender Profile</h4>
							</div>

							<div class="row">
								<h:form>
									<div class="col-md-3">
										<h:commandButton styleClass="btn btn-primary"
											value="Link it to this crime scene"
											action="#{controllerCrimeScene.linkOffenderProfile(controllerNeuralNetworkEntity.getSuggestedOffenderProfile(controllerCrimeScene.crimeScene))}" />
									</div>
								</h:form>
							</div>

							<br />

							<ui:include
								src="/WEB-INF/includes/views/viewOffenderProfile.xhtml" />
						</p:overlayPanel>

					</h:form>

				</div>
				<!-- row -->

			</div>
		</ui:define>
	</ui:composition>
</h:body>
</html>