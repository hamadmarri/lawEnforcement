<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<f:metadata>
		<f:viewParam name="id" value="#{controllerInvestigativeCase.id}" />
	</f:metadata>
</h:head>

<h:body>
	<ui:composition template="/WEB-INF/template.xhtml">
		<ui:define name="title">Adala - Edit Investigative Case</ui:define>
		<ui:define name="content">
			<div class="container">


				<div class="page-header">
					<h4>Edit Investigative Case #{controllerInvestigativeCase.id}</h4>
				</div>

				<div class="row">

					<ul class="breadcrumb no-bg-color">
						<li><h:link value="Home" outcome="/index.xhtml" /><span
							class="divider" /></li>
						<li><h:link value="Investigative Cases List"
								outcome="/management/police/investigativeCase/listInvestigativeCases.xhtml" /></li>
						<li><h:link
								value="Investigative Cases #{controllerInvestigativeCase.id}"
								outcome="cancel">
								<f:param name="id" value="#{controllerInvestigativeCase.id}" />
							</h:link></li>
						<li class="active">Edit Investigative Cases
							#{controllerInvestigativeCase.id}</li>
					</ul>
				</div>

				<div class="row">

					<h:form styleClass="form-horizontal">

						<div class="col-md-6">
							<!-- Description -->
							<div class="page-header">
								<h4>Description</h4>
							</div>

							<p:editor styleClass="col-md-12" id="editor" height="300"
								style="min-height: 600;" widgetVar="editorWidget"
								value="#{controllerInvestigativeCase.investigativeCase.description}" />

						</div>

						<div class="col-md-4 col-md-offset-1">

							<div class="page-header">
								<h4>Details</h4>
							</div>

							<!-- Status -->
							<div class="form-group">
								<h:outputLabel styleClass="control-label col-xs-4"
									value="Status" />
								<div class="col-xs-8">
									<p:selectOneMenu style="width: 100%;" id="Build"
										value="#{controllerInvestigativeCase.investigativeCase.status}">
										<f:selectItems
											value="#{controllerInvestigativeCase.investigativeCase.statusSuggestions}" />
									</p:selectOneMenu>
								</div>
							</div>

							<!-- Start Date -->
							<div class="form-group">
								<h:outputLabel styleClass="control-label col-xs-4"
									value="Start Date" />
								<div class="col-xs-8">
									<p:calendar
										value="#{controllerInvestigativeCase.investigativeCase.startDate}"
										pattern="dd-MM-yyyy" mask="true" styleClass="dateTimeField" />

								</div>
							</div>


							<!-- Due Date -->
							<div class="form-group">
								<h:outputLabel styleClass="control-label col-xs-4"
									value="Due Date" />
								<div class="col-xs-8">
									<p:calendar
										value="#{controllerInvestigativeCase.investigativeCase.dueDate}"
										pattern="dd-MM-yyyy" mask="true" styleClass="dateTimeField" />

								</div>
							</div>


							<!-- Officer who created it -->
							<div class="form-group">
								<h:outputLabel styleClass="control-label col-xs-4"
									value="Officer" />
								<div class="col-xs-8">
									<p:inputText
										binding="#{controllerInvestigativeCase.offInputId}"
										styleClass="col-md-6"
										value="#{controllerInvestigativeCase.officerWhoCreatedItId}" />

									<p:commandButton
										styleClass="col-md-5 col-md-offset-1 btn btn-default"
										id="ofBtn" value="Browes" type="button" />

									<p:overlayPanel id="offPanel" for="ofBtn" hideEffect="fade"
										dynamic="false" style="width:600px;">

										<p:dataTable var="o" value="#{controllerOfficer.officersList}">
											<p:column>
												<f:facet name="header">Name</f:facet>
												<h:outputText value="#{o.personName}" />
											</p:column>
											<p:column>
												<h:button styleClass="btn btn-link" value="Choose"
													onclick="updateOffId(#{o.id}); return false;" />
											</p:column>
										</p:dataTable>
									</p:overlayPanel>

								</div>
							</div>

						</div>




						<hr style="margin-top: 45px;" class="col-md-12" />

						<div class="row">

							<div class="col-md-4 col-md-offset-9">
								<h:commandButton styleClass="btn btn-primary col-md-3"
									value="save" action="#{controllerInvestigativeCase.submit}" />

								<h:link styleClass="btn btn-link minor col-md-1" value="cancel"
									outcome="cancel">
									<f:param name="id" value="#{controllerInvestigativeCase.id}" />
								</h:link>
							</div>
						</div>

					</h:form>
				</div>

			</div>

			<script type="text/javascript">
				function updateOffId(i) {					
					document.getElementById("#{controllerInvestigativeCase.offInputId.clientId}").value = i;
					return false;
				}
			
			</script>

		</ui:define>
	</ui:composition>

</h:body>
</html>